<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tallboy Amps</title>

<link rel="icon" href="valve.png" type="image/png">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@700&display=swap');

html, body {
  margin:0; height:100%; overflow:hidden;
  font-family:'Saira Condensed', sans-serif;
  background:#000;
}

.background-valve {
  position:absolute; top:50%; left:50%;
  width:120%; height:120%;
  background:url('valve.png') center/cover no-repeat;
  filter:blur(40px) brightness(0.35);
  transform:translate(-50%,-50%);
  z-index:0; opacity:0.8;
}

.container {
  position:absolute; top:50%; left:50%;
  transform:translate(-50%,-50%);
  z-index:2;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  text-align:center;
  width:90vw; max-width:600px;
  padding:1rem;
}

.email-line {
  display:block; text-align:center; margin:0.2em 0;
}

.letter {
  display:inline-block;
  background:linear-gradient(90deg,#ffd1a1,#ff8c61,#ff4f81,#ffd1a1);
  background-size:300% 300%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:0 0 15px rgba(255,140,80,0.5),0 0 40px rgba(255,60,120,0.3);
  font-size:clamp(2rem,6vw,4rem);
}

.blob {
  position:absolute;
  width:70vmax; height:70vmax;
  background:radial-gradient(circle, rgba(255,120,80,0.25), rgba(255,60,120,0.15), transparent 70%);
  filter:blur(140px); opacity:0.25;
  pointer-events:none; z-index:1;
}

.blob:nth-child(1){top:-30%; left:-30%;}
.blob:nth-child(2){bottom:-30%; right:-30%; animation-duration:75s;}

@keyframes drift{from{transform:translate(0,0);}to{transform:translate(10%,8%);}}

@media(prefers-reduced-motion: reduce){*{animation:none!important;transition:none!important;}}
</style>
</head>
<body>

<div class="background-valve" id="valve"></div>
<div class="blob" style="animation:drift 60s infinite alternate ease-in-out;"></div>
<div class="blob" style="animation:drift 75s infinite alternate ease-in-out;"></div>
<div class="container" id="container"></div>

<script>
const container = document.getElementById('container');
const fullEmail = "loud@tallboyamps.co.uk";
const splitEmail = ["loud","@","tallboyamps.co.uk"];
let letterSpans = [];

function createEmail() {
  container.innerHTML = '';
  letterSpans = [];

  // FORCE split on screens below 600px width
  const useSplit = window.innerWidth <= 600;
  const lines = useSplit ? splitEmail : [fullEmail];

  lines.forEach(line => {
    const lineDiv = document.createElement('div');
    lineDiv.className = 'email-line';
    line.split('').forEach(char=>{
      const span=document.createElement('span');
      span.className='letter';
      span.textContent=char;
      lineDiv.appendChild(span);
      letterSpans.push(span);
    });
    container.appendChild(lineDiv);
  });
}

// Throttle resize
let resizeTimeout;
window.addEventListener('resize', ()=>{
  clearTimeout(resizeTimeout);
  resizeTimeout = setTimeout(createEmail, 150);
});

// Initial render
createEmail();

// GSAP animations
gsap.to('#valve',{scale:1.02,opacity:0.9,duration:3,yoyo:true,repeat:-1,ease:'sine.inOut'});
gsap.to(container,{scale:1.025,duration:8,yoyo:true,repeat:-1,ease:'sine.inOut'});

// Glow synced to background
gsap.to({},{
  duration:3,
  repeat:-1,
  yoyo:true,
  onUpdate:function(){
    const t=this.progress();
    letterSpans.forEach((letter,i)=>{
      const stagger=i*0.05;
      const glow=0.35+0.65*Math.sin((t+stagger)*Math.PI*2);
      letter.style.textShadow=`0 0 ${15+25*glow}px rgba(255,180,120,${0.6+0.4*glow}),
                               0 0 ${40+50*glow}px rgba(255,100,120,${0.35+0.35*glow})`;
    });
  }
});

// Click glow pulse
container.addEventListener('click',()=>{
  letterSpans.forEach((letter,i)=>{
    gsap.to(letter,{
      textShadow:'0 0 45px rgba(255,180,120,0.95),0 0 80px rgba(255,100,120,0.6)',
      duration:0.25,yoyo:true,repeat:1,delay:i*0.02,ease:'power2.out'
    });
  });
});
</script>
</body>
</html>
